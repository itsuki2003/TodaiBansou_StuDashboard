# 2-1. 生徒一覧画面

## 1. UI/UX 設計（ワイヤーフレーム）

- **画面タイトル:** 生徒一覧
- **絞り込み・検索エリア:**
  - **フリーワード検索:** 「生徒名、かな、塾名などで検索」といったプレースホルダーを持つテキスト入力欄を配置する。
  - **学年:** ドロップダウンリスト（"すべて", "4 年生", "5 年生", "6 年生"）
  - **担当講師:** ドロップダウンリスト（"すべて", "講師 A", "講師 B"...）
- **生徒一覧テーブル:**
  - 表示項目: 生徒氏名, ふりがな, 学年, 担当講師名, 詳細ボタン
  - 表示件数: 1 ページあたり 20 件
- **ページネーション:**
  - 現在ページ/総ページ数を表示
  - 「前へ」「次へ」ボタン

## 2. DB 設計

- **関連テーブル:** `students`, `instructors`, `student_instructors`
- **リレーションシップ:**
  - `student_instructors`中間テーブルを参照し、担当講師名を取得する。
- **パフォーマンス考慮:**
  - フリーワード検索のパフォーマンスを向上させるため、`students`テーブルの氏名、かな、塾名などのカラムに対して**全文検索インデックス**を作成する。

## 3. 詳細機能仕様

- **初期表示:** 権限内の全生徒を、学年・ふりがな順で表示する。
- **権限制御:**
  - **管理者:** 全生徒・全講師が対象。
  - **講師:** 自分が担当する生徒のみ表示。
- **検索・絞り込み:**
  - フリーワード検索と各ドロップダウンの絞り込みは、全て AND 条件で組み合わせて実行される。
  - フリーワード検索は、生徒の姓・名・かな、および通塾先（`cram_school_name`）を対象とする。
  - 入力後、少し間をおいて（デバウンス処理）、自動で検索結果を更新する。
- **画面遷移:** 詳細ボタンクリックで、個人のダッシュボード画面(`/students/{student_id}`)へ遷移する。
- **Empty State:** 生徒データが 1 件も登録されていない場合、テーブルエリアに「まだ生徒が登録されていません」と表示する。
