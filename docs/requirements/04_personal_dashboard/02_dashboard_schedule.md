# 4-2. 個人ダッシュボード画面（スケジュールタブ）

## 1. UI/UX 設計（ワイヤーフレーム）

### 「スケジュール」タブの表示内容

- **カレンダー表示エリア:**
  - 塾のテスト、東大伴走の授業・面談、過去問のスケジュールを月表示カレンダーにプロットする。
  - 各予定は、種別（テスト、授業、過去問など）ごとに色分けして表示する。
- **予定種別フィルター:**
  - 「すべて」「テスト」「授業・面談」「過去問」といったチェックボックスを配置し、カレンダー上の表示を絞り込めるようにする。
- **操作ボタン:**
  - 「新しい予定を追加」ボタンを配置する。

### 予定登録・編集モーダル

- 「新しい予定を追加」ボタンや、カレンダー上の既存の予定をクリックすると、モーダルウィンドウが表示される。
- **入力項目:**
  - **タイトル:** テキスト入力欄（例: 「マンスリーテスト」）
  - **種別:** ドロップダウンリスト（「テスト」「授業」「面談」「過去問」）
  - **開始日時:** 日付と時刻を選択できるピッカー
  - **終了日時:** 日付と時刻を選択できるピッカー
- **操作ボタン:**
  - 「保存」「削除」ボタン

## 2. DB 設計

- **関連テーブル:** `schedules`
- **利用カラム:**
  - `student_id`: どの生徒の予定かを示す。
  - `title`: 予定のタイトル。
  - `type`: 予定の種別（「テスト」「授業」「面談」「過去問」の固定値を使用し、マスタ参照は行わない）。
  - `start_time`, `end_time`: 予定の期間。

## 3. 詳細機能仕様

- **データ表示:**
  - 「スケジュール」タブが開かれた際、表示されている月の予定を`schedules`テーブルから取得してカレンダーに表示する。
  - 月を切り替えると、非同期でその月の予定データを再取得して表示する。
- **予定の登録・編集:**

  - 管理者および担当講師は、予定の新規登録、編集、削除ができる。
  - 保存ボタンを押すと、入力内容が`schedules`テーブルに保存または更新される。
  - 削除ボタンを押すと、対象のレコードを論理削除し（`deleted_at`を設定）、カレンダーから非表示にする。削除・更新などの操作は監査ログに記録される。
  - フィルター適用後に表示対象の予定が 0 件の場合、カレンダーエリアに「該当する予定はありません」と表示する。
  - カレンダー上の予定をドラッグして日時を変更する機能は提供しない。
  - **Empty State:** 予定が 1 件も登録されていない場合、カレンダーエリアに「予定はまだありません」と表示する。
